---
import type { CollectionEntry } from 'astro:content'
import Date from '@components/Date.astro'
import Subheading from '@components/Subheading.astro'

interface Props {
  item: CollectionEntry<'posts'>
}

const { item } = Astro.props
const { Content } = await item.render()

const href = `${item.collection}/${item.slug}`
---

<>
  <h1><a href={href}>{item.data.title}</a></h1>
  <Subheading>
    <Date date={item.data.pubDate} href={href} />
  </Subheading>

  {item.data.description && <p>{item.data.description}</p>}
  {!item.data.description && <Content />}
</>
